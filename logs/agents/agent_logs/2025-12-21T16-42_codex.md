# Agent Log — Sweep Parallelism (CPU Utilization)

- Agent: Codex CLI
- Model: GPT-5.2
- Created (UTC): 2025-12-21T16:42:45+00:00

## Problem

40-task sweep showed very low CPU utilization (typically ~1 logical core busy), likely because feature engineering (especially `kaggle_clicks/time_agg.py`) is Python-loop heavy and effectively single-threaded, and the sweep runner executes runs serially.

## Change made

- Added concurrent execution support to the 20×2 full-grid sweep runner via a new flag:
  - `--max-parallel-runs`
- File:
  - `kaggle_clicks/run_sweep_family_a_full_grid.py`

## Smoke validation

- Command:
  - `python -m kaggle_clicks.run_sweep_family_a_full_grid --sample-pct 1 --sample-parquet data/interim/train_sample_0p1pct.parquet --sweep-tag onboard_parallel_smoke --max-wall-seconds 60 --per-run-timeout-seconds 60 --max-parallel-runs 2 --n-estimators 30 --max-depth 4 --n-jobs 1`
- Output:
  - `runs/sweeps/20251221_164116_onboard_parallel_smoke_s1pct/summary.md`
  - per-run logs: `runs/sweeps/20251221_164116_onboard_parallel_smoke_s1pct/logs/`

## Notes

- For real 40-task runs, avoid oversubscription by pairing:
  - higher `--max-parallel-runs` with lower per-run `--n-jobs` (often `1` or `2`), then tune by memory.

