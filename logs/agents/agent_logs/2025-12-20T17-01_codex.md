# Agent Log â€” Inference Utilities + Sweep Orchestration

- Agent: Codex CLI
- Model: GPT-5.2
- Created (UTC): 2025-12-20T17:01:54+00:00

## What changed

- Added DeLong ROC-AUC test in `kaggle_clicks/inference_auc.py` (`delong_roc_test`).
- Added paired block bootstrap PR-AUC in `kaggle_clicks/inference_bootstrap.py` (`paired_block_bootstrap_pr_auc`).
- Extended sweep runner in `kaggle_clicks/run_sweep_family_a.py`:
  - `--rolling-tail` to run Fold A/B per spec.
  - `--export-preds` to export predictions from each run.
  - summary now includes `fold_id`.
- Added sweep inference postprocess script `kaggle_clicks/postprocess_sweep_inference.py` to compare specs vs a baseline using DeLong + bootstrap.

## Tests run

- DeLong sanity:
  - `python - <<'PY' ... delong_roc_test ... PY`
- Bootstrap sanity:
  - `python - <<'PY' ... paired_block_bootstrap_pr_auc ... PY`
- Rolling-tail sweep smoke (partial, timed out on R3):
  - `python -m kaggle_clicks.run_sweep_family_a --sample-pct 1 --sweep-tag rolling_tail_sweep_smoke --n-estimators 20 --max-wall-seconds 140 --rolling-tail --export-preds`
- Inference postprocess on the smoke sweep:
  - `python -m kaggle_clicks.postprocess_sweep_inference --sweep-dir runs/sweeps/20251220_165753_rolling_tail_sweep_smoke_s1pct --baseline-run-id R0 --split test --bootstrap-reps 20 --seed 0`

## Outputs

- Sweep dir: `runs/sweeps/20251220_165753_rolling_tail_sweep_smoke_s1pct`
- Inference CSV: `runs/sweeps/20251220_165753_rolling_tail_sweep_smoke_s1pct/inference_vs_baseline.csv`

