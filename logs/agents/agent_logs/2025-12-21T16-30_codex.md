# Agent Log — Onboarding + Smoke Run

- Agent: Codex CLI
- Model: GPT-5.2
- Created (UTC): 2025-12-21T16:31:17+00:00

## What I read (onboarding packet)

- `agents.md`
- `docs/AGENT_ONBOARDING.md`
- `README.md`
- `docs/DATA.md`
- `docs/TIME_AGG_EXPERIMENTS.md`
- `docs/plan_for_working_paper_results.md`
- `docs/FAMILY_A_RESULTS.md`
- `docs/EDA_REPORT.md`
- Prior handoff: `logs/agents/agent_logs/2025-12-20T20-49_codex.md`

## Repo mental model (1 paragraph)

CTR modeling on Avazu with strict chronological OOT evaluation. Baseline is time-aware target encoding (TE). “Family A” adds online-safe entity-history time aggregation features with windows/shapes/length-sets, ensuring features at hour `H` only use `<H` history (no same-hour leakage). Sweeps write comparable outputs under `runs/sweeps/...`.

## Fixes made

- Fixed `python -m kaggle_clicks.run_baseline_te --help` crashing due to an unescaped `%` in an argparse help string.
  - File: `kaggle_clicks/run_baseline_te.py`

## Smoke run executed (fast)

- Command:
  - `python -m kaggle_clicks.run_baseline_te --sample-parquet data/interim/train_sample_0p1pct.parquet --run-tag onboard_smoke --n-estimators 50 --max-depth 4 --n-jobs 4`
- Output run dir:
  - `runs/20251221_163025_onboard_smoke/`
- Result (test):
  - ROC-AUC `0.7119`, PR-AUC `0.3115` (see `runs/20251221_163025_onboard_smoke/report.md`)

## Notes / next steps

- Entry points to use for most work:
  - single runs: `kaggle_clicks/run_baseline_te.py`
  - sweeps: `kaggle_clicks/run_sweep_family_a.py` and `kaggle_clicks/run_sweep_family_a_full_grid.py`
- Current “working paper” scope is strictly A.1/A.2 (shapes + length sets); avoid drifting into A.3/A.4 unless explicitly requested.
