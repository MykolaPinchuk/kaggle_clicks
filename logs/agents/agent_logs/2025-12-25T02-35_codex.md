# Agent Log — TE vs Time-Agg Importance + TE Ablation

- Agent: Codex CLI
- Model: GPT-5.2
- Created (UTC): 2025-12-25T02:35:46+00:00

## What I found (feature importance by gain)

On the 10% paper-grid runs:
- `A3_trailing` shares (approx): time-agg ~0.74–0.75, TE ~0.24, base ~0.013
- `A3_event50` shares (approx): time-agg ~0.80, TE ~0.19, base ~0.008

So in the combined models, time-aggregation features dominate gain share (TE is still non-trivial).

## What I added

Added a TE ablation mode to support “time-agg-only” experiments:
- New CLI flag: `--no-te` in `kaggle_clicks/run_baseline_te.py`
- Added helper: `kaggle_clicks/te.py:add_time_prior_ctr` (time-aware global prior only)

## Quick sanity experiment (0.1% sample, Fold A)

Ran a small set of specs with TE+time-agg vs time-agg-only and compared the spread across specs:
- With TE+time-agg (5 specs): test ROC spread ~0.0132
- With time-agg-only (5 specs): test ROC spread ~0.0238

This suggests removing TE can increase observed sensitivity to A.1/A.2 choices in a tiny ablation setting, but overall performance is lower and results may be noisier.

