# Agent Log — Onboarding

- Agent: Codex CLI
- Model: GPT-5.2
- Created (UTC): 2025-12-20T16:43:04+00:00

## What I read / inspected

- `agents.md` (repo operating rules).
- `docs/AGENT_ONBOARDING.md`, `README.md`, `docs/DATA.md`.
- Experiment spec + scope: `docs/TIME_AGG_EXPERIMENTS.md`, `docs/plan_for_working_paper_results.md`, `docs/FAMILY_A_RESULTS.md`.
- EDA context: `docs/EDA_REPORT.md`.
- Code entrypoints and core modules:
  - `kaggle_clicks/run_baseline_te.py` (single-run pipeline, writes `runs/<ts>_<tag>/...`)
  - `kaggle_clicks/run_sweep_family_a.py` (sweep orchestration, writes `runs/sweeps/...`)
  - `kaggle_clicks/te.py` (time-aware TE, shifted by hour)
  - `kaggle_clicks/time_agg.py` (streaming per-entity windows with no same-hour leakage via batched hour flush)
  - `kaggle_clicks/time_utils.py` (hour parsing, OOT day splits, strict OOT assertion)

## Current understanding (mental model)

- Goal: CTR modeling on Avazu with strict OOT eval; isolate gains from Family A “windowed” online-safe entity history features.
- Baseline features: hour-of-day + global prior CTR + per-categorical time-aware target encoding (cumulative up to `< hour_dt`).
- Time-agg features: per entity (`device_ip`, `device_id`, `app_id`, `site_id`) compute windowed smoothed CTR + log-imps; supports trailing, gap windows, bucketized recency, calendar windows, and “last N imps” (approx by hour blocks).

## Notable gaps vs working-paper plan

- No “2-day rolling tail” Fold A/B split mode yet.
- Baseline runner does not export per-row predictions for inference.
- No DeLong / block-bootstrap inference utilities or sweep post-processing for CIs yet.

